{"ast":null,"code":"var _jsxFileName = \"/home/study/trading/frontend/src/Form.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Form = () => {\n  _s();\n  const [trade, setTrade] = useState({\n    action: '',\n    price: '',\n    quantity: ''\n  });\n  const [trades, setTrades] = useState([]);\n  const [closeTrade, setCloseTrade] = useState({\n    tradeIndex: '',\n    quantity: '',\n    closePrice: ''\n  });\n  const [currentPrice, setCurrentPrice] = useState(null);\n  const [summary, setSummary] = useState({\n    unrealized: 0,\n    realized: 0,\n    total: 0\n  });\n  const [isManual, setIsManual] = useState(false);\n  const handleInputChange = (key, value) => {\n    setTrade({\n      ...trade,\n      [key]: value\n    });\n  };\n  const handleCloseInputChange = (key, value) => {\n    setCloseTrade({\n      ...closeTrade,\n      [key]: value\n    });\n  };\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Function to fetch current price\n  const fetchCurrentPrice = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:5000/api/current_price');\n      setCurrentPrice(response.data.currentPrice);\n\n      // Auto-fill the entry price if not already filled\n      if (!trade.price) {\n        setTrade(prev => ({\n          ...prev,\n          price: response.data.currentPrice\n        }));\n      }\n\n      // Auto-fill the close price if not already filled\n      if (!closeTrade.closePrice) {\n        setCloseTrade(prev => ({\n          ...prev,\n          closePrice: response.data.currentPrice\n        }));\n      }\n    } catch (error) {\n      var _error$response;\n      console.error('Error fetching current price:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isSubmitting) return; // Prevent multiple submissions\n\n    setIsSubmitting(true);\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/api/account\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...trade,\n          time: new Date().toISOString().split(\"T\")[0]\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        alert(\"Trade placed successfully!\");\n        setTrade({\n          action: \"\",\n          price: \"\",\n          quantity: \"\"\n        });\n        // Refresh the trades list after adding a new trade\n        fetchTrades();\n        fetchCurrentPrice();\n      } else {\n        throw new Error(data.error || \"Failed to place trade\");\n      }\n    } catch (error) {\n      console.error(\"Error saving trade:\", error);\n      alert(\"Failed to save trade. Please try again.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const [isClosing, setIsClosing] = useState(false);\n  const handleClose = async e => {\n    e.preventDefault();\n    if (isClosing) return; // Prevent multiple submissions\n\n    setIsClosing(true);\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/api/close_trade\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          tradeIndex: closeTrade.tradeIndex,\n          quantity: closeTrade.quantity,\n          closePrice: closeTrade.closePrice || currentPrice // Use entered price or current price\n        })\n      });\n      const data = await response.json();\n      if (response.ok) {\n        alert(`Trade closed successfully! Realized P/L: $${data.realizedPL}`);\n        // Reset the form\n        setCloseTrade({\n          tradeIndex: '',\n          quantity: '',\n          closePrice: ''\n        });\n        // Refresh the trades list\n        fetchTrades();\n        fetchCurrentPrice();\n      } else {\n        throw new Error(data.error || \"Failed to close trade\");\n      }\n    } catch (error) {\n      console.error(\"Error closing trade:\", error);\n      alert(\"Failed to close trade. Please try again.\");\n    } finally {\n      setIsClosing(false);\n    }\n  };\n  const fetchTrades = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:5000/api/account');\n      setTrades(response.data.trades);\n      setSummary(response.data.pnl || {\n        unrealized: 0,\n        realized: 0,\n        total: 0\n      });\n      if (response.data.currentPrice) {\n        setCurrentPrice(response.data.currentPrice);\n      }\n    } catch (error) {\n      var _error$response2;\n      console.error('Error fetching trades:', ((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || error.message);\n    }\n  };\n  const initializeSystem = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:5000/api/initialize');\n      if (response.data.currentPrice) {\n        setCurrentPrice(response.data.currentPrice);\n        // Auto-fill the price fields with current price\n        setTrade(prev => ({\n          ...prev,\n          price: response.data.currentPrice\n        }));\n        setCloseTrade(prev => ({\n          ...prev,\n          closePrice: response.data.currentPrice\n        }));\n      }\n      fetchTrades(); // Get trades after initialization\n    } catch (error) {\n      var _error$response3;\n      console.error('Error initializing system:', ((_error$response3 = error.response) === null || _error$response3 === void 0 ? void 0 : _error$response3.data) || error.message);\n    }\n  };\n\n  // Initialize system and setup periodic updates\n  useEffect(() => {\n    initializeSystem();\n\n    // Update prices and P/L periodically (every 5 seconds)\n    const intervalId = setInterval(() => {\n      fetchCurrentPrice();\n      fetchTrades();\n    }, 5000);\n    return () => clearInterval(intervalId);\n  }, []);\n\n  // Get only open trades for the dropdown\n  const openTrades = trades.filter(trade => trade.isOpen);\n\n  // Update price field when action changes\n  useEffect(() => {\n    if (currentPrice) {\n      setTrade(prev => ({\n        ...prev,\n        price: currentPrice\n      }));\n    }\n  }, [trade.action]);\n\n  // Get the selected trade for display\n  const selectedTrade = closeTrade.tradeIndex !== '' ? trades.find(t => t.index === parseInt(closeTrade.tradeIndex)) : null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"market-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Market Information\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Current Price:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 12\n        }, this), \" $\", currentPrice ? currentPrice.toFixed(5) : 'Loading...']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pnl-summary\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Unrealized P/L:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 14\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: summary.unrealized >= 0 ? 'profit' : 'loss',\n            children: [\"$\", summary.unrealized.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 47\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Realized P/L:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 14\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: summary.realized >= 0 ? 'profit' : 'loss',\n            children: [\"$\", summary.realized.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 45\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Total P/L:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 14\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: summary.total >= 0 ? 'profit' : 'loss',\n            children: [\"$\", summary.total.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Place Trade\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"trade-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Action\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: trade.action,\n          onChange: e => handleInputChange('action', e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select Action\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"buy\",\n            children: \"Buy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"sell\",\n            children: \"Sell\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.0001\",\n          value: trade.price,\n          onChange: e => handleInputChange('price', e.target.value),\n          placeholder: \"Enter Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this), currentPrice && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"use-current-btn\",\n          onClick: () => handleInputChange('price', currentPrice),\n          children: \"Use Current\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          value: trade.quantity,\n          onChange: e => handleInputChange('quantity', e.target.value),\n          placeholder: \"Enter Quantity\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-button\",\n        disabled: isSubmitting,\n        children: isSubmitting ? 'Placing...' : 'Place Trade'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), trade.action && trade.price && trade.quantity && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trade-preview\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Trade Preview:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Action: \", trade.action.toUpperCase()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Price: $\", Number(trade.price).toFixed(4)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Quantity: \", trade.quantity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Total Value: $\", (Number(trade.price) * Number(trade.quantity)).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Close Trade\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleClose,\n      className: \"trade-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select Trade\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: closeTrade.tradeIndex,\n          onChange: e => handleCloseInputChange('tradeIndex', e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a trade to close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), openTrades.map(trade => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: trade.index,\n            children: [trade.action.toUpperCase(), \" \", trade.remainingQuantity, \" at $\", trade.entryPrice, \" (P/L: $\", trade.profitLoss, \")\"]\n          }, trade.index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 9\n      }, this), selectedTrade && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"selected-trade-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Entry Price: $\", selectedTrade.entryPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Remaining Quantity: \", selectedTrade.remainingQuantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Current P/L: \", /*#__PURE__*/_jsxDEV(\"span\", {\n            className: selectedTrade.profitLoss >= 0 ? 'profit' : 'loss',\n            children: [\"$\", selectedTrade.profitLoss]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Quantity to Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.01\",\n          value: closeTrade.quantity,\n          onChange: e => handleCloseInputChange('quantity', e.target.value),\n          placeholder: \"Enter Quantity to Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), selectedTrade && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"use-current-btn\",\n          onClick: () => handleCloseInputChange('quantity', selectedTrade.remainingQuantity),\n          children: \"Close All\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Close Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          step: \"0.0001\",\n          value: closeTrade.closePrice,\n          onChange: e => handleCloseInputChange('closePrice', e.target.value),\n          placeholder: \"Enter Close Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), currentPrice && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"use-current-btn\",\n          onClick: () => handleCloseInputChange('closePrice', currentPrice),\n          children: \"Use Current\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"submit-button\",\n        disabled: isClosing || !closeTrade.tradeIndex,\n        children: isClosing ? 'Closing...' : 'Close Trade'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trades-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Current Trades\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 9\n      }, this), trades.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"trades-list\",\n        children: trades.map(trade => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `trade-item ${trade.isOpen ? 'open-trade' : 'closed-trade'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"trade-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"trade-action\",\n              children: trade.action.toUpperCase()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"trade-status\",\n              children: trade.isOpen ? 'OPEN' : 'CLOSED'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"trade-details\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Entry: $\", trade.entryPrice, \" (\", trade.entryTime, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this), trade.closePrice && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Close: $\", trade.closePrice, \" (\", trade.closeTime, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 40\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Quantity: \", trade.quantity, \" \", trade.isOpen && trade.remainingQuantity !== trade.quantity && `(${trade.remainingQuantity} remaining)`]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 19\n            }, this), trade.isOpen ? /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Unrealized P/L: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: trade.profitLoss >= 0 ? 'profit' : 'loss',\n                children: [\"$\", trade.profitLoss]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 350,\n                columnNumber: 40\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 21\n            }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Realized P/L: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: trade.realizedProfitLoss >= 0 ? 'profit' : 'loss',\n                children: [\"$\", trade.realizedProfitLoss]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 38\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 21\n            }, this), trade.isOpen && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Trade Index: \", trade.index]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this)]\n        }, trade.index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"No trades available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .form-container {\n          padding: 20px;\n          max-width: 800px;\n          margin: 0 auto;\n        }\n        .market-info {\n          background-color: #f5f5f5;\n          padding: 15px;\n          border-radius: 5px;\n          margin-bottom: 20px;\n        }\n        .pnl-summary {\n          display: flex;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n        .pnl-summary p {\n          margin-right: 20px;\n        }\n        .trade-form {\n          margin-bottom: 30px;\n        }\n        .form-group {\n          margin-bottom: 15px;\n          position: relative;\n        }\n        .form-group label {\n          display: block;\n          margin-bottom: 5px;\n          font-weight: bold;\n        }\n        .form-group input, .form-group select {\n          width: 100%;\n          padding: 8px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n        }\n        .use-current-btn {\n          position: absolute;\n          right: 0;\n          top: 30px;\n          background: #f0f0f0;\n          border: 1px solid #ccc;\n          padding: 4px 8px;\n          cursor: pointer;\n          border-radius: 4px;\n        }\n        .submit-button {\n          background-color: #4CAF50;\n          color: white;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n        .submit-button:disabled {\n          background-color: #cccccc;\n          cursor: not-allowed;\n        }\n        .trade-preview {\n          background-color: #f9f9f9;\n          padding: 15px;\n          border-radius: 5px;\n          margin-bottom: 20px;\n        }\n        .selected-trade-info {\n          background-color: #f0f0f0;\n          padding: 10px;\n          border-radius: 4px;\n          margin-bottom: 15px;\n        }\n        .trades-container {\n          margin-top: 30px;\n        }\n        .trades-list {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n          gap: 15px;\n        }\n        .trade-item {\n          border: 1px solid #ddd;\n          border-radius: 5px;\n          padding: 15px;\n        }\n        .open-trade {\n          border-left: 4px solid #4CAF50;\n        }\n        .closed-trade {\n          border-left: 4px solid #999;\n          opacity: 0.8;\n        }\n        .trade-header {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 10px;\n          padding-bottom: 5px;\n          border-bottom: 1px solid #eee;\n        }\n        .trade-action {\n          font-weight: bold;\n        }\n        .trade-status {\n          padding: 2px 6px;\n          border-radius: 3px;\n          font-size: 0.8em;\n        }\n        .open-trade .trade-status {\n          background-color: #e8f5e9;\n          color: #2e7d32;\n        }\n        .closed-trade .trade-status {\n          background-color: #f5f5f5;\n          color: #.closed-trade .trade-status {\n  background-color: #f5f5f5;\n  color: #757575;\n}\n.trade-details p {\n  margin: 5px 0;\n}\n.profit {\n  color: #4CAF50;\n}\n.loss {\n  color: #f44336;\n}\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 364,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n};\n_s(Form, \"5gFWPQLIPxMIQk68CWCIbatG2hk=\");\n_c = Form;\nexport default Form;\nvar _c;\n$RefreshReg$(_c, \"Form\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","Form","_s","trade","setTrade","action","price","quantity","trades","setTrades","closeTrade","setCloseTrade","tradeIndex","closePrice","currentPrice","setCurrentPrice","summary","setSummary","unrealized","realized","total","isManual","setIsManual","handleInputChange","key","value","handleCloseInputChange","isSubmitting","setIsSubmitting","fetchCurrentPrice","response","get","data","prev","error","_error$response","console","message","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","time","Date","toISOString","split","json","ok","alert","fetchTrades","Error","isClosing","setIsClosing","handleClose","realizedPL","pnl","_error$response2","initializeSystem","_error$response3","intervalId","setInterval","clearInterval","openTrades","filter","isOpen","selectedTrade","find","t","index","parseInt","className","children","fileName","_jsxFileName","lineNumber","columnNumber","toFixed","onSubmit","onChange","target","type","step","placeholder","onClick","disabled","toUpperCase","Number","map","remainingQuantity","entryPrice","profitLoss","length","entryTime","closeTime","realizedProfitLoss","jsx","_c","$RefreshReg$"],"sources":["/home/study/trading/frontend/src/Form.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nconst Form = () => {\n  const [trade, setTrade] = useState({\n    action: '',\n    price: '',\n    quantity: ''\n  });\n  const [trades, setTrades] = useState([]);\n  const [closeTrade, setCloseTrade] = useState({\n    tradeIndex: '',\n    quantity: '',\n    closePrice: ''\n  });\n  const [currentPrice, setCurrentPrice] = useState(null);\n  const [summary, setSummary] = useState({\n    unrealized: 0,\n    realized: 0,\n    total: 0\n  });\n\n  const [isManual, setIsManual] = useState(false);\n  const handleInputChange = (key, value) => {\n    setTrade({ ...trade, [key]: value });\n  };\n\n  const handleCloseInputChange = (key, value) => {\n    setCloseTrade({ ...closeTrade, [key]: value });\n  };\n\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  // Function to fetch current price\n  const fetchCurrentPrice = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:5000/api/current_price');\n      setCurrentPrice(response.data.currentPrice);\n      \n      // Auto-fill the entry price if not already filled\n      if (!trade.price) {\n        setTrade(prev => ({\n          ...prev,\n          price: response.data.currentPrice\n        }));\n      }\n      \n      // Auto-fill the close price if not already filled\n      if (!closeTrade.closePrice) {\n        setCloseTrade(prev => ({\n          ...prev,\n          closePrice: response.data.currentPrice\n        }));\n      }\n    } catch (error) {\n      console.error('Error fetching current price:', error.response?.data || error.message);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (isSubmitting) return; // Prevent multiple submissions\n\n    setIsSubmitting(true);\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/api/account\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          ...trade,\n          time: new Date().toISOString().split(\"T\")[0]\n        })\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        alert(\"Trade placed successfully!\");\n        setTrade({ action: \"\", price: \"\", quantity: \"\" });\n        // Refresh the trades list after adding a new trade\n        fetchTrades();\n        fetchCurrentPrice();\n      } else {\n        throw new Error(data.error || \"Failed to place trade\");\n      }\n    } catch (error) {\n      console.error(\"Error saving trade:\", error);\n      alert(\"Failed to save trade. Please try again.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const [isClosing, setIsClosing] = useState(false);\n\n  const handleClose = async (e) => {\n    e.preventDefault();\n    if (isClosing) return; // Prevent multiple submissions\n\n    setIsClosing(true);\n\n    try {\n      const response = await fetch(\"http://127.0.0.1:5000/api/close_trade\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ \n          tradeIndex: closeTrade.tradeIndex, \n          quantity: closeTrade.quantity,\n          closePrice: closeTrade.closePrice || currentPrice // Use entered price or current price\n        }),\n      });\n\n      const data = await response.json();\n\n      if (response.ok) {\n        alert(`Trade closed successfully! Realized P/L: $${data.realizedPL}`);\n        // Reset the form\n        setCloseTrade({ tradeIndex: '', quantity: '', closePrice: '' });\n        // Refresh the trades list\n        fetchTrades();\n        fetchCurrentPrice();\n      } else {\n        throw new Error(data.error || \"Failed to close trade\");\n      }\n    } catch (error) {\n      console.error(\"Error closing trade:\", error);\n      alert(\"Failed to close trade. Please try again.\");\n    } finally {\n      setIsClosing(false);\n    }\n  };\n\n  const fetchTrades = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:5000/api/account');\n      setTrades(response.data.trades);\n      setSummary(response.data.pnl || { unrealized: 0, realized: 0, total: 0 });\n      if (response.data.currentPrice) {\n        setCurrentPrice(response.data.currentPrice);\n      }\n    } catch (error) {\n      console.error('Error fetching trades:', error.response?.data || error.message);\n    }\n  };\n\n  const initializeSystem = async () => {\n    try {\n      const response = await axios.get('http://127.0.0.1:5000/api/initialize');\n      if (response.data.currentPrice) {\n        setCurrentPrice(response.data.currentPrice);\n        // Auto-fill the price fields with current price\n        setTrade(prev => ({ ...prev, price: response.data.currentPrice }));\n        setCloseTrade(prev => ({ ...prev, closePrice: response.data.currentPrice }));\n      }\n      fetchTrades(); // Get trades after initialization\n    } catch (error) {\n      console.error('Error initializing system:', error.response?.data || error.message);\n    }\n  };\n\n  // Initialize system and setup periodic updates\n  useEffect(() => {\n    initializeSystem();\n    \n    // Update prices and P/L periodically (every 5 seconds)\n    const intervalId = setInterval(() => {\n      fetchCurrentPrice();\n      fetchTrades();\n    }, 5000);\n    \n    return () => clearInterval(intervalId);\n  }, []);\n  \n  // Get only open trades for the dropdown\n  const openTrades = trades.filter(trade => trade.isOpen);\n\n  // Update price field when action changes\n  useEffect(() => {\n    if (currentPrice) {\n      setTrade(prev => ({...prev, price: currentPrice}));\n    }\n  }, [trade.action]);\n\n  // Get the selected trade for display\n  const selectedTrade = closeTrade.tradeIndex !== '' ? \n    trades.find(t => t.index === parseInt(closeTrade.tradeIndex)) : null;\n\n  return (\n    <div className=\"form-container\">\n      <div className=\"market-info\">\n        <h2>Market Information</h2>\n        <p><strong>Current Price:</strong> ${currentPrice ? currentPrice.toFixed(5) : 'Loading...'}</p>\n        <div className=\"pnl-summary\">\n          <p><strong>Unrealized P/L:</strong> <span className={summary.unrealized >= 0 ? 'profit' : 'loss'}>${summary.unrealized.toFixed(2)}</span></p>\n          <p><strong>Realized P/L:</strong> <span className={summary.realized >= 0 ? 'profit' : 'loss'}>${summary.realized.toFixed(2)}</span></p>\n          <p><strong>Total P/L:</strong> <span className={summary.total >= 0 ? 'profit' : 'loss'}>${summary.total.toFixed(2)}</span></p>\n        </div>\n      </div>\n\n      <h2>Place Trade</h2>\n      <form onSubmit={handleSubmit} className=\"trade-form\">\n        <div className=\"form-group\">\n          <label>Action</label>\n          <select\n            value={trade.action}\n            onChange={(e) => handleInputChange('action', e.target.value)}\n          >\n            <option value=\"\">Select Action</option>\n            <option value=\"buy\">Buy</option>\n            <option value=\"sell\">Sell</option>\n          </select>\n        </div>\n\n        <div className=\"form-group\">\n          <label>Price</label>\n          <input\n            type=\"number\"\n            step=\"0.0001\"\n            value={trade.price}\n            onChange={(e) => handleInputChange('price', e.target.value)}\n            placeholder=\"Enter Price\"\n          />\n          {currentPrice && (\n            <button \n              type=\"button\" \n              className=\"use-current-btn\"\n              onClick={() => handleInputChange('price', currentPrice)}\n            >\n              Use Current\n            </button>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label>Quantity</label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            value={trade.quantity}\n            onChange={(e) => handleInputChange('quantity', e.target.value)}\n            placeholder=\"Enter Quantity\"\n          />\n        </div>\n\n        <button type=\"submit\" className=\"submit-button\" disabled={isSubmitting}>\n          {isSubmitting ? 'Placing...' : 'Place Trade'}\n        </button>\n      </form>\n\n      {trade.action && trade.price && trade.quantity && (\n        <div className=\"trade-preview\">\n          <h3>Trade Preview:</h3>\n          <p>Action: {trade.action.toUpperCase()}</p>\n          <p>Price: ${Number(trade.price).toFixed(4)}</p>\n          <p>Quantity: {trade.quantity}</p>\n          <p>Total Value: ${(Number(trade.price) * Number(trade.quantity)).toFixed(2)}</p>\n        </div>\n      )}\n\n      <h2>Close Trade</h2>\n      <form onSubmit={handleClose} className=\"trade-form\">\n        <div className=\"form-group\">\n          <label>Select Trade</label>\n          <select\n            value={closeTrade.tradeIndex}\n            onChange={(e) => handleCloseInputChange('tradeIndex', e.target.value)}\n          >\n            <option value=\"\">Select a trade to close</option>\n            {openTrades.map((trade) => (\n              <option key={trade.index} value={trade.index}>\n                {trade.action.toUpperCase()} {trade.remainingQuantity} at ${trade.entryPrice} (P/L: ${trade.profitLoss})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {selectedTrade && (\n          <div className=\"selected-trade-info\">\n            <p>Entry Price: ${selectedTrade.entryPrice}</p>\n            <p>Remaining Quantity: {selectedTrade.remainingQuantity}</p>\n            <p>Current P/L: <span className={selectedTrade.profitLoss >= 0 ? 'profit' : 'loss'}>${selectedTrade.profitLoss}</span></p>\n          </div>\n        )}\n\n        <div className=\"form-group\">\n          <label>Quantity to Close</label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            value={closeTrade.quantity}\n            onChange={(e) => handleCloseInputChange('quantity', e.target.value)}\n            placeholder=\"Enter Quantity to Close\"\n          />\n          {selectedTrade && (\n            <button \n              type=\"button\" \n              className=\"use-current-btn\"\n              onClick={() => handleCloseInputChange('quantity', selectedTrade.remainingQuantity)}\n            >\n              Close All\n            </button>\n          )}\n        </div>\n\n        <div className=\"form-group\">\n          <label>Close Price</label>\n          <input\n            type=\"number\"\n            step=\"0.0001\"\n            value={closeTrade.closePrice}\n            onChange={(e) => handleCloseInputChange('closePrice', e.target.value)}\n            placeholder=\"Enter Close Price\"\n          />\n          {currentPrice && (\n            <button \n              type=\"button\" \n              className=\"use-current-btn\"\n              onClick={() => handleCloseInputChange('closePrice', currentPrice)}\n            >\n              Use Current\n            </button>\n          )}\n        </div>\n\n        <button \n          type=\"submit\" \n          className=\"submit-button\" \n          disabled={isClosing || !closeTrade.tradeIndex}\n        >\n          {isClosing ? 'Closing...' : 'Close Trade'}\n        </button>\n      </form>\n\n      <div className=\"trades-container\">\n        <h3>Current Trades</h3>\n        {trades.length > 0 ? (\n          <div className=\"trades-list\">\n            {trades.map((trade) => (\n              <div key={trade.index} className={`trade-item ${trade.isOpen ? 'open-trade' : 'closed-trade'}`}>\n                <div className=\"trade-header\">\n                  <span className=\"trade-action\">{trade.action.toUpperCase()}</span>\n                  <span className=\"trade-status\">{trade.isOpen ? 'OPEN' : 'CLOSED'}</span>\n                </div>\n                <div className=\"trade-details\">\n                  <p>Entry: ${trade.entryPrice} ({trade.entryTime})</p>\n                  {trade.closePrice && <p>Close: ${trade.closePrice} ({trade.closeTime})</p>}\n                  <p>Quantity: {trade.quantity} {trade.isOpen && trade.remainingQuantity !== trade.quantity && `(${trade.remainingQuantity} remaining)`}</p>\n                  {trade.isOpen ? (\n                    <p>Unrealized P/L: <span className={trade.profitLoss >= 0 ? 'profit' : 'loss'}>${trade.profitLoss}</span></p>\n                  ) : (\n                    <p>Realized P/L: <span className={trade.realizedProfitLoss >= 0 ? 'profit' : 'loss'}>${trade.realizedProfitLoss}</span></p>\n                  )}\n                  {trade.isOpen && (<p>Trade Index: {trade.index}</p>)}\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <p>No trades available.</p>\n        )}\n      </div>\n      \n      <style jsx>{`\n        .form-container {\n          padding: 20px;\n          max-width: 800px;\n          margin: 0 auto;\n        }\n        .market-info {\n          background-color: #f5f5f5;\n          padding: 15px;\n          border-radius: 5px;\n          margin-bottom: 20px;\n        }\n        .pnl-summary {\n          display: flex;\n          justify-content: space-between;\n          flex-wrap: wrap;\n        }\n        .pnl-summary p {\n          margin-right: 20px;\n        }\n        .trade-form {\n          margin-bottom: 30px;\n        }\n        .form-group {\n          margin-bottom: 15px;\n          position: relative;\n        }\n        .form-group label {\n          display: block;\n          margin-bottom: 5px;\n          font-weight: bold;\n        }\n        .form-group input, .form-group select {\n          width: 100%;\n          padding: 8px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n        }\n        .use-current-btn {\n          position: absolute;\n          right: 0;\n          top: 30px;\n          background: #f0f0f0;\n          border: 1px solid #ccc;\n          padding: 4px 8px;\n          cursor: pointer;\n          border-radius: 4px;\n        }\n        .submit-button {\n          background-color: #4CAF50;\n          color: white;\n          padding: 10px 15px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n        }\n        .submit-button:disabled {\n          background-color: #cccccc;\n          cursor: not-allowed;\n        }\n        .trade-preview {\n          background-color: #f9f9f9;\n          padding: 15px;\n          border-radius: 5px;\n          margin-bottom: 20px;\n        }\n        .selected-trade-info {\n          background-color: #f0f0f0;\n          padding: 10px;\n          border-radius: 4px;\n          margin-bottom: 15px;\n        }\n        .trades-container {\n          margin-top: 30px;\n        }\n        .trades-list {\n          display: grid;\n          grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n          gap: 15px;\n        }\n        .trade-item {\n          border: 1px solid #ddd;\n          border-radius: 5px;\n          padding: 15px;\n        }\n        .open-trade {\n          border-left: 4px solid #4CAF50;\n        }\n        .closed-trade {\n          border-left: 4px solid #999;\n          opacity: 0.8;\n        }\n        .trade-header {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 10px;\n          padding-bottom: 5px;\n          border-bottom: 1px solid #eee;\n        }\n        .trade-action {\n          font-weight: bold;\n        }\n        .trade-status {\n          padding: 2px 6px;\n          border-radius: 3px;\n          font-size: 0.8em;\n        }\n        .open-trade .trade-status {\n          background-color: #e8f5e9;\n          color: #2e7d32;\n        }\n        .closed-trade .trade-status {\n          background-color: #f5f5f5;\n          color: #.closed-trade .trade-status {\n  background-color: #f5f5f5;\n  color: #757575;\n}\n.trade-details p {\n  margin: 5px 0;\n}\n.profit {\n  color: #4CAF50;\n}\n.loss {\n  color: #f44336;\n}\n      `}</style>\n    </div>\n  );\n};\n\nexport default Form;"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAC9E,EAAA,CAzeID,IAAI;AAAAoG,EAAA,GAAJpG,IAAI;AA2eV,eAAeA,IAAI;AAAC,IAAAoG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}