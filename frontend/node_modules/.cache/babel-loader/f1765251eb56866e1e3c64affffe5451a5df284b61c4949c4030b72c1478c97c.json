{"ast":null,"code":"var _jsxFileName = \"/home/study/trading/frontend/src/Backtest.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { createChart } from 'lightweight-charts';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Backtest = () => {\n  _s();\n  const chartContainerRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n  const [candlestickSeries, setCandlestickSeries] = useState(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [startDate, setStartDate] = useState('');\n  const [hasStarted, setHasStarted] = useState(false);\n  const [trades, setTrades] = useState([]);\n  const [totalPnL, setTotalPnL] = useState(0);\n  const [timeInterval, setTimeInterval] = useState('1');\n  const [clickedPoint, setClickedPoint] = useState(null); // Stores clicked coordinates\n\n  useEffect(() => {\n    if (!chartContainerRef.current || !hasStarted) return;\n    const chart = createChart(chartContainerRef.current, {\n      width: chartContainerRef.current.clientWidth,\n      height: 400,\n      layout: {\n        backgroundColor: '#ffffff',\n        textColor: '#333'\n      },\n      grid: {\n        vertLines: {\n          color: '#eee'\n        },\n        horzLines: {\n          color: '#eee'\n        }\n      },\n      priceScale: {\n        minMove: 0.00001\n      },\n      timeScale: {\n        timeVisible: true,\n        secondsVisible: false,\n        borderColor: '#ccc'\n      }\n    });\n    const series = chart.addCandlestickSeries({\n      priceFormat: {\n        precision: 5,\n        minMove: 0.00001\n      }\n    });\n    setCandlestickSeries(series);\n    chartInstanceRef.current = chart;\n    axios.post('http://127.0.0.1:5000/api/historical_data', {\n      startDate,\n      timeInterval\n    }).then(response => {\n      if (response.data.length > 0) {\n        const adjustedData = response.data.map(candle => ({\n          time: new Date(candle.time).getTime() / 1000,\n          open: candle.open,\n          high: candle.high,\n          low: candle.low,\n          close: candle.close\n        }));\n        series.setData(adjustedData);\n        setCurrentIndex(adjustedData.length);\n      }\n    }).catch(error => console.error('Error fetching data:', error));\n\n    // ðŸ“Œ Add click event listener to capture chart coordinates\n    chart.subscribeClick(param => {\n      if (!param || !param.time || !param.point) return;\n      const price = series.coordinateToPrice(param.point.y);\n      setClickedPoint({\n        time: param.time,\n        price\n      });\n      console.log(`Clicked at: Time: ${param.time}, Price: ${price}`);\n    });\n    return () => chart.remove();\n  }, [hasStarted, timeInterval]);\n  const handleTrade = async action => {\n    try {\n      const response = await axios.post('http://127.0.0.1:5000/api/account', {\n        action,\n        price: candlestickSeries.currentData().close,\n        quantity: 1,\n        time: new Date().toISOString().split('T')[0]\n      });\n      setTrades(response.data.trades);\n      setTotalPnL(response.data.totalPnL);\n    } catch (error) {\n      console.error('Error placing trade:', error);\n    }\n  };\n  const addNewCandle = async () => {\n    if (!candlestickSeries || !hasStarted) return;\n    try {\n      const response = await axios.post('http://127.0.0.1:5000/api/backtest', {\n        currentIndex,\n        timeInterval\n      });\n      if (response.data.nextCandlestick) {\n        const newCandle = {\n          time: new Date(response.data.nextCandlestick.time).getTime() / 1000,\n          open: response.data.nextCandlestick.open,\n          high: response.data.nextCandlestick.high,\n          low: response.data.nextCandlestick.low,\n          close: response.data.nextCandlestick.close\n        };\n        candlestickSeries.update(newCandle);\n        setCurrentIndex(response.data.nextIndex);\n        setTrades(response.data.trades);\n        setTotalPnL(response.data.totalPnL);\n      }\n    } catch (error) {\n      console.error('Error fetching new candlestick:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      textAlign: 'center'\n    },\n    children: !hasStarted ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter Start Date (YYYY-MM-DD)\",\n        value: startDate,\n        onChange: e => setStartDate(e.target.value),\n        style: {\n          padding: '8px',\n          marginBottom: '10px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: timeInterval,\n        onChange: e => setTimeInterval(e.target.value),\n        style: {\n          padding: '8px',\n          marginBottom: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"1\",\n          children: \"1 Minute\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"5\",\n          children: \"5 Minutes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"15\",\n          children: \"15 Minutes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"30\",\n          children: \"30 Minutes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"60\",\n          children: \"1 Hour\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setHasStarted(true),\n        style: {\n          padding: '8px',\n          marginLeft: '10px'\n        },\n        children: \"Load Historical Data\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        ref: chartContainerRef,\n        style: {\n          width: '100%',\n          height: '400px',\n          border: '1px solid black'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this), clickedPoint && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px',\n          padding: '10px',\n          border: '1px solid #ccc',\n          backgroundColor: '#f9f9f9'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Last Clicked Point:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Time:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 18\n          }, this), \" \", clickedPoint.time]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Price:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 18\n          }, this), \" \", clickedPoint.price.toFixed(5)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '10px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTrade('buy'),\n          style: {\n            backgroundColor: 'green',\n            color: 'white',\n            padding: '10px'\n          },\n          children: \"Buy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleTrade('sell'),\n          style: {\n            backgroundColor: 'red',\n            color: 'white',\n            padding: '10px',\n            marginLeft: '10px'\n          },\n          children: \"Sell\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: addNewCandle,\n          style: {\n            backgroundColor: 'blue',\n            color: 'white',\n            padding: '10px',\n            marginLeft: '10px'\n          },\n          children: \"Next Candle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px',\n          padding: '10px',\n          border: '1px solid black'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Trading Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total P/L:\", ' ', /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 'bold',\n              color: totalPnL >= 0 ? 'green' : 'red'\n            },\n            children: [\"$\", totalPnL.toFixed(5)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n};\n_s(Backtest, \"VAtSH4j2IlSxo+H2KT9GchSLHRU=\");\n_c = Backtest;\nexport default Backtest;\nvar _c;\n$RefreshReg$(_c, \"Backtest\");","map":{"version":3,"names":["React","useEffect","useRef","useState","createChart","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","Backtest","_s","chartContainerRef","chartInstanceRef","candlestickSeries","setCandlestickSeries","currentIndex","setCurrentIndex","startDate","setStartDate","hasStarted","setHasStarted","trades","setTrades","totalPnL","setTotalPnL","timeInterval","setTimeInterval","clickedPoint","setClickedPoint","current","chart","width","clientWidth","height","layout","backgroundColor","textColor","grid","vertLines","color","horzLines","priceScale","minMove","timeScale","timeVisible","secondsVisible","borderColor","series","addCandlestickSeries","priceFormat","precision","post","then","response","data","length","adjustedData","map","candle","time","Date","getTime","open","high","low","close","setData","catch","error","console","subscribeClick","param","point","price","coordinateToPrice","y","log","remove","handleTrade","action","currentData","quantity","toISOString","split","addNewCandle","nextCandlestick","newCandle","update","nextIndex","style","padding","textAlign","children","type","placeholder","value","onChange","e","target","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onClick","marginLeft","ref","border","marginTop","toFixed","fontWeight","_c","$RefreshReg$"],"sources":["/home/study/trading/frontend/src/Backtest.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { createChart } from 'lightweight-charts';\nimport axios from 'axios';\n\nconst Backtest = () => {\n  const chartContainerRef = useRef(null);\n  const chartInstanceRef = useRef(null);\n  const [candlestickSeries, setCandlestickSeries] = useState(null);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [startDate, setStartDate] = useState('');\n  const [hasStarted, setHasStarted] = useState(false);\n  const [trades, setTrades] = useState([]);\n  const [totalPnL, setTotalPnL] = useState(0);\n  const [timeInterval, setTimeInterval] = useState('1');  \n  const [clickedPoint, setClickedPoint] = useState(null);  // Stores clicked coordinates\n\n  useEffect(() => {\n    if (!chartContainerRef.current || !hasStarted) return;\n\n    const chart = createChart(chartContainerRef.current, {\n      width: chartContainerRef.current.clientWidth,\n      height: 400,\n      layout: { backgroundColor: '#ffffff', textColor: '#333' },\n      grid: { vertLines: { color: '#eee' }, horzLines: { color: '#eee' } },\n      priceScale: { minMove: 0.00001 },\n      timeScale: { timeVisible: true, secondsVisible: false, borderColor: '#ccc' },\n    });\n\n    const series = chart.addCandlestickSeries({ priceFormat: { precision: 5, minMove: 0.00001 } });\n    setCandlestickSeries(series);\n    chartInstanceRef.current = chart;\n\n    axios.post('http://127.0.0.1:5000/api/historical_data', { startDate, timeInterval })\n      .then((response) => {\n        if (response.data.length > 0) {\n          const adjustedData = response.data.map(candle => ({\n            time: new Date(candle.time).getTime() / 1000, \n            open: candle.open,\n            high: candle.high,\n            low: candle.low,\n            close: candle.close,\n          }));\n          series.setData(adjustedData);\n          setCurrentIndex(adjustedData.length);\n        }\n      })\n      .catch((error) => console.error('Error fetching data:', error));\n\n    // ðŸ“Œ Add click event listener to capture chart coordinates\n    chart.subscribeClick((param) => {\n      if (!param || !param.time || !param.point) return;\n\n      const price = series.coordinateToPrice(param.point.y);\n      setClickedPoint({ time: param.time, price });\n\n      console.log(`Clicked at: Time: ${param.time}, Price: ${price}`);\n    });\n\n    return () => chart.remove();\n  }, [hasStarted, timeInterval]);\n\n  const handleTrade = async (action) => {\n    try {\n      const response = await axios.post('http://127.0.0.1:5000/api/account', {\n        action,\n        price: candlestickSeries.currentData().close,\n        quantity: 1,\n        time: new Date().toISOString().split('T')[0]\n      });\n\n      setTrades(response.data.trades);\n      setTotalPnL(response.data.totalPnL);\n    } catch (error) {\n      console.error('Error placing trade:', error);\n    }\n  };\n\n  const addNewCandle = async () => {\n    if (!candlestickSeries || !hasStarted) return;\n\n    try {\n      const response = await axios.post('http://127.0.0.1:5000/api/backtest', { currentIndex, timeInterval });\n\n      if (response.data.nextCandlestick) {\n        const newCandle = {\n          time: new Date(response.data.nextCandlestick.time).getTime() / 1000,\n          open: response.data.nextCandlestick.open,\n          high: response.data.nextCandlestick.high,\n          low: response.data.nextCandlestick.low,\n          close: response.data.nextCandlestick.close,\n        };\n\n        candlestickSeries.update(newCandle);\n        setCurrentIndex(response.data.nextIndex);\n        setTrades(response.data.trades);\n        setTotalPnL(response.data.totalPnL);\n      }\n    } catch (error) {\n      console.error('Error fetching new candlestick:', error);\n    }\n  };\n\n  return (\n    <div style={{ padding: '20px', textAlign: 'center' }}>\n      {!hasStarted ? (\n        <div>\n          <input\n            type=\"text\"\n            placeholder=\"Enter Start Date (YYYY-MM-DD)\"\n            value={startDate}\n            onChange={(e) => setStartDate(e.target.value)}\n            style={{ padding: '8px', marginBottom: '10px' }}\n          />\n          <select\n            value={timeInterval}\n            onChange={(e) => setTimeInterval(e.target.value)}\n            style={{ padding: '8px', marginBottom: '10px' }}\n          >\n            <option value=\"1\">1 Minute</option>\n            <option value=\"5\">5 Minutes</option>\n            <option value=\"15\">15 Minutes</option>\n            <option value=\"30\">30 Minutes</option>\n            <option value=\"60\">1 Hour</option>\n          </select>\n          <button onClick={() => setHasStarted(true)} style={{ padding: '8px', marginLeft: '10px' }}>\n            Load Historical Data\n          </button>\n        </div>\n      ) : (\n        <>\n          <div ref={chartContainerRef} style={{ width: '100%', height: '400px', border: '1px solid black' }}></div>\n          \n          {/* Display the last clicked point */}\n          {clickedPoint && (\n            <div style={{ marginTop: '10px', padding: '10px', border: '1px solid #ccc', backgroundColor: '#f9f9f9' }}>\n              <h4>Last Clicked Point:</h4>\n              <p><strong>Time:</strong> {clickedPoint.time}</p>\n              <p><strong>Price:</strong> {clickedPoint.price.toFixed(5)}</p>\n            </div>\n          )}\n\n          <div style={{ marginTop: '10px' }}>\n            <button onClick={() => handleTrade('buy')} style={{ backgroundColor: 'green', color: 'white', padding: '10px' }}>\n              Buy\n            </button>\n            <button onClick={() => handleTrade('sell')} style={{ backgroundColor: 'red', color: 'white', padding: '10px', marginLeft: '10px' }}>\n              Sell\n            </button>\n            <button onClick={addNewCandle} style={{ backgroundColor: 'blue', color: 'white', padding: '10px', marginLeft: '10px' }}>\n              Next Candle\n            </button>\n          </div>\n\n          <div style={{ marginTop: '20px', padding: '10px', border: '1px solid black' }}>\n            <h3>Trading Summary</h3>\n            <p>\n              Total P/L:{' '}\n              <span style={{ fontWeight: 'bold', color: totalPnL >= 0 ? 'green' : 'red' }}>\n                ${totalPnL.toFixed(5)}\n              </span>\n            </p>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Backtest;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}